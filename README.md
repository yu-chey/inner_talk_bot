# üí¨ Inner Talk Bot (Telegram AI Psychologist)

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç —Ä–µ–∞–ª–∏–∑—É–µ—Ç Telegram-–±–æ—Ç–∞, –∫–æ—Ç–æ—Ä—ã–π –≤—ã—Å—Ç—É–ø–∞–µ—Ç –≤ —Ä–æ–ª–∏ —ç–º–ø–∞—Ç–∏—á–Ω–æ–≥–æ AI-–ø—Å–∏—Ö–æ–ª–æ–≥–∞ (–ø–µ—Ä–≤–∞—è –ª–∏–Ω–∏—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏). –ë–æ—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –º–æ–¥–µ–ª—å Google Gemini –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –æ—Ç–≤–µ—Ç–æ–≤ –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø—Ä–∏–Ω—Ü–∏–ø–æ–≤ –∫–æ–≥–Ω–∏—Ç–∏–≤–Ω–æ-–ø–æ–≤–µ–¥–µ–Ω—á–µ—Å–∫–æ–π —Ç–µ—Ä–∞–ø–∏–∏ (–ö–ü–¢) –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –∏—Å—Ç–æ—Ä–∏—é —á–∞—Ç–∞ –≤ MongoDB Atlas.

## üåü –û—Å–Ω–æ–≤–Ω—ã–µ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

* **–ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –†–æ–ª—å:** –ë–æ—Ç —Å—Ç—Ä–æ–≥–æ —Å–ª–µ–¥—É–µ—Ç —Å–∏—Å—Ç–µ–º–Ω–æ–º—É –ø—Ä–æ–º–ø—Ç—É, –≤—ã—Å—Ç—É–ø–∞—è –∫–∞–∫ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—â–∏–π AI-—Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç, –±–µ–∑ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫ –≤–Ω–µ—à–Ω–∏–º –ø—Å–∏—Ö–æ–ª–æ–≥–∞–º.
* **–î–ª–∏–Ω–Ω—ã–π –ö–æ–Ω—Ç–µ–∫—Å—Ç:** –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –∏—Å—Ç–æ—Ä–∏—é —á–∞—Ç–∞ (–¥–æ 30 —Å–æ–æ–±—â–µ–Ω–∏–π) –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∞–Ω–∏—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –∏ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ–π —Ç–µ—Ä–∞–ø–∏–∏.
* **–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å:** –ü–æ—Å—Ç—Ä–æ–µ–Ω –Ω–∞ `aiogram` –∏ `motor` –¥–ª—è –≤—ã—Å–æ–∫–æ–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ–π –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π —Ä–∞–±–æ—Ç—ã.
* **–°–±—Ä–æ—Å –ò—Å—Ç–æ—Ä–∏–∏:** –ö–æ–º–∞–Ω–¥–∞ `/clear` –ø–æ–∑–≤–æ–ª—è–µ—Ç –Ω–∞—á–∞—Ç—å –Ω–æ–≤—ã–π –¥–∏–∞–ª–æ–≥ –±–µ–∑ —Å—Ç–∞—Ä–æ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞.

---

## üõ†Ô∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ü—Ä–æ–µ–∫—Ç–∞

inner_talk_bot/ ‚îú‚îÄ‚îÄ .venv/ # –í–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ ‚îú‚îÄ‚îÄ .env # –§–∞–π–ª —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è (–ù–ï –ö–û–ú–ú–ò–¢–ò–¢–¨!) ‚îî‚îÄ‚îÄ bot_service/ # –û—Å–Ω–æ–≤–Ω–æ–π –ø–∞–∫–µ—Ç –±–æ—Ç–∞ ‚îú‚îÄ‚îÄ init.py ‚îú‚îÄ‚îÄ config.py # –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã –∏ –∑–∞–≥—Ä—É–∑–∫–∞ .env ‚îú‚îÄ‚îÄ db_manager.py # –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å MongoDB ‚îú‚îÄ‚îÄ handlers.py # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π (aiogram) ‚îî‚îÄ‚îÄ main.py # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –∏ –∑–∞–ø—É—Å–∫

---

## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –ó–∞–ø—É—Å–∫

–î–ª—è –∑–∞–ø—É—Å–∫–∞ –±–æ—Ç–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã **Python 3.10+** –∏ –∞–∫—Ç–∏–≤–Ω–æ–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ.

### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

```bash
git clone git
cd inner_talk_bot

# –°–æ–∑–¥–∞–Ω–∏–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
python -m venv .venv

# –ê–∫—Ç–∏–≤–∞—Ü–∏—è (Linux/macOS)
source .venv/bin/activate

# –ê–∫—Ç–∏–≤–∞—Ü–∏—è (Windows PowerShell)
.\.venv\Scripts\activate
```

### 2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤—Å–µ—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
pip install -r requirements.txt

### 3. ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ü–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –û–∫—Ä—É–∂–µ–Ω–∏—è

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª .env –≤ –∫–æ—Ä–Ω–µ–≤–æ–π –ø–∞–ø–∫–µ –ø—Ä–æ–µ–∫—Ç–∞ (inner_talk_bot/) –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –µ–≥–æ —Å–≤–æ–∏–º–∏ –∫–ª—é—á–∞–º–∏. –≠—Ç–æ—Ç —Ñ–∞–π–ª –ù–ï–û–ë–•–û–î–ò–ú–û –¥–æ–±–∞–≤–∏—Ç—å –≤ .gitignore!

–ü—Ä–∏–º–µ—Ä .env

# --- Telegram –∏ Gemini API ---
TELEGRAM_BOT_TOKEN="–í–ê–®_–¢–û–ö–ï–ù_–ë–û–¢–ê"
GEMINI_API_KEY="–í–ê–®_–ö–õ–Æ–ß_API_GEMINI"

# --- MongoDB Atlas ---
# –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ª–æ–≥–∏–Ω –∏ –ø–∞—Ä–æ–ª—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã!
MONGODB_URI="mongodb+srv://[–õ–û–ì–ò–ù]:[–ü–ê–†–û–õ–¨]@[–ö–õ–ê–°–¢–ï–†]/[–ò–ú–Ø_–ë–î]?retryWrites=true&w=majority"
DB_NAME="innertalkCluster"

# --- –°–∏—Å—Ç–µ–º–Ω—ã–π –ü—Ä–æ–º–ø—Ç –ë–æ—Ç–∞ ---
SYSTEM_PROMPT_TEMPLATE="[–í—Å—Ç–∞–≤—å—Ç–µ –≤–∞—à –ø–æ–ª–Ω—ã–π —Ç–µ–∫—Å—Ç –ø—Ä–æ–º–ø—Ç–∞ —Å—é–¥–∞]"

### 4. –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞.


```bash
(.venv) python -m bot_service.main
```

–û–∂–∏–¥–∞–µ–º—ã–π –í—ã–≤–æ–¥ –≤ –ö–æ–Ω—Å–æ–ª–∏

```
2025-11-02 08:37:33,123 - INFO - –£—Å–ø–µ—à–Ω–æ –ø–æ–¥–∫–ª—é—á–µ–Ω –∫ MongoDB Atlas.
2025-11-02 08:37:33,123 - INFO - INNER_TALK_BOT –∑–∞–ø—É—â–µ–Ω –∏ –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ.
```

### 5. üõë –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ù–µ–ø–æ–ª–∞–¥–æ–∫

‚úçÔ∏è –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏

    yu chey

    samat sakenov
